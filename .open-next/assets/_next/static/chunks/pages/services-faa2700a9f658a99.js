(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{97133:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/services",function(){return s(69965)}])},47061:function(e,r,s){"use strict";s.d(r,{Z:function(){return M}});var i=s(85893),n=s(64761),t=s(98664),o=s(38561),l=s(66137),c=s(18540),a=s(81310),d=s(19236),h=s(90344),x=s(67294),u=s(37068);let m=e=>{let{children:r}=e;return(0,i.jsx)(u.SV,{FallbackComponent:j,children:r})},j=e=>{let{error:r}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:"Something went wrong:"}),r.message]})};var p=s(34736),v=s(5044),g=s(95117),f=s(33765),w=s(70385),k=s(72678),y=s(8861),b=s(21294),S=s(15710),z=s(33299),C=s(11163);let Z=e=>{let{icon:r,color:s,label:n,path:t,setOpened:o}=e,c=(0,C.useRouter)();return(0,i.jsx)(p.k,{sx:e=>({display:"block",width:"100%",padding:e.spacing.xs,borderRadius:e.radius.sm,backgroundColor:t==c.pathname?"dark"===e.colorScheme?e.colors.dark:e.colors.blue[1]:e.colors.white,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,"&:hover":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[2]}}),onClick:()=>{c.push(t),o(!1)},children:(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(v.k,{color:s,variant:"light",size:"lg",children:r}),(0,i.jsx)(g.x,{size:"sm",children:n})]})})},_=e=>{let r=[{icon:(0,i.jsx)(k.Z,{size:"1rem"}),color:"blue",label:"Dashboard",path:"/",sortOrder:0},{icon:(0,i.jsx)(y.Z,{size:"1rem"}),color:"green",label:"Account",path:"/account",sortOrder:3},{icon:(0,i.jsx)(b.Z,{size:"1rem"}),color:"orange",label:"Services",path:"/services",sortOrder:3}];return e.role==w.UserRole.MANAGER&&r.push({icon:(0,i.jsx)(S.Z,{size:"1rem"}),color:"grape",label:"Team",path:"/team",sortOrder:2}),r.sort((e,r)=>e.sortOrder>r.sortOrder?1:-1)};function O(e){let{opened:r,setOpened:s}=e,n=(0,z.useSession)();if("authenticated"!=n.status)return(0,i.jsx)(f.w,{p:"md",hiddenBreakpoint:"sm",hidden:!r,width:{sm:200,lg:300},children:(0,i.jsx)(f.w.Section,{grow:!0,mt:"md",children:(0,i.jsx)("div",{children:"Loading..."})})});let t=_(n.data.user).map(e=>(0,x.createElement)(Z,{...e,key:e.label,setOpened:s}));return(0,i.jsx)(f.w,{p:"md",hiddenBreakpoint:"sm",hidden:!r,width:{sm:200,lg:300},children:(0,i.jsx)(f.w.Section,{grow:!0,mt:"md",children:(0,i.jsx)("div",{children:t})})})}var N=s(68104),F=s(49834),E=s(99985),A=s(33111),L=s(2013),D=s(17339),I=s(79153),T=s(40221),G=s(82876);function B(){let{data:e}=(0,z.useSession)();return(0,i.jsxs)(N.v,{shadow:"md",width:200,withArrow:!0,children:[(0,i.jsx)(N.v.Target,{children:(0,i.jsx)(F.A,{variant:"hover",radius:"xl",size:40,children:(0,i.jsx)(E.q,{src:"".concat("https://qamedia.detailpad.com","/avatars/").concat((null==e?void 0:e.user.avatar)!=null?null==e?void 0:e.user.avatar:"default_ava.jpg"),radius:"xl"})})}),(0,i.jsxs)(N.v.Dropdown,{children:[(0,i.jsx)(N.v.Label,{children:"Application"}),(0,i.jsx)(N.v.Item,{icon:(0,i.jsx)(A.Z,{size:14}),children:"Settings"}),(0,i.jsx)(N.v.Item,{icon:(0,i.jsx)(L.Z,{size:14}),children:"Messages"}),(0,i.jsx)(N.v.Item,{icon:(0,i.jsx)(D.Z,{size:14}),children:"Gallery"}),(0,i.jsx)(N.v.Item,{icon:(0,i.jsx)(I.Z,{size:14}),rightSection:(0,i.jsx)(g.x,{size:"xs",color:"dimmed",children:"âŒ˜K"}),children:"Search"}),(0,i.jsx)(N.v.Divider,{}),(0,i.jsx)(N.v.Label,{children:"Danger zone"}),(0,i.jsx)(N.v.Item,{icon:(0,i.jsx)(T.Z,{size:14}),children:"Transfer my data"}),(0,i.jsx)(N.v.Item,{color:"red",icon:(0,i.jsx)(G.Z,{size:14}),onClick:()=>(0,z.signOut)(),children:"Logout"})]})]})}function M(e){let{children:r}=e,s=(0,n.rZ)(),[u,j]=(0,x.useState)(!1);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t.V,{padding:"md",navbarOffsetBreakpoint:"sm",asideOffsetBreakpoint:"sm",styles:e=>({main:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.colors.gray[0]}}),navbar:(0,i.jsx)(O,{opened:u,setOpened:j}),header:(0,i.jsx)(o.h,{height:70,p:"md",children:(0,i.jsxs)(l.Z,{position:"apart",noWrap:!0,children:[(0,i.jsx)(c.z,{largerThan:"sm",styles:{display:"none"},children:(0,i.jsx)(a.O,{style:{justifyContent:"start"},opened:u,onClick:()=>j(e=>!e),size:"sm",color:s.colors.gray[6],mr:"xl"})}),(0,i.jsx)(c.z,{smallerThan:"sm",styles:{display:"none"},children:(0,i.jsx)(d.D,{children:"App"})}),(0,i.jsx)(B,{})]})}),footer:(0,i.jsx)(h.$,{height:60,p:"md",children:"Detailpad Footer"}),children:(0,i.jsx)(m,{children:r})})})}},69965:function(e,r,s){"use strict";s.r(r),s.d(r,{__N_SSP:function(){return k},default:function(){return y}});var i=s(85893),n=s(9008),t=s.n(n),o=s(47061),l=s(20050),c=s(66137),a=s(99985),d=s(95117),h=s(93775),x=s(82623),u=s(54777),m=s(55899),j=s(74922),p=s(67294),v=s(34542);let g=e=>{let{data:r,selected:s}=e;return(0,i.jsxs)(c.Z,{noWrap:!0,children:[(0,i.jsx)(a.q,{src:r.image,size:"lg"}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)(d.x,{size:"sm",weight:500,children:r.label}),(0,i.jsx)(d.x,{size:"xs",color:"dimmed",weight:400,children:r.description})]}),(0,i.jsx)(h.X,{checked:s,tabIndex:-1,sx:{pointerEvents:"none"}})]})},f=()=>{let{data:e,isLoading:r,refetch:s}=v.h.service.getServices.useQuery(),[n,t]=(0,p.useState)([[],[]]),o=v.h.service.updateServices.useMutation({onError:()=>{j.N9.show({color:"red",title:"Error!",message:"Unable to update service list!"})},onSuccess:async()=>{await s(),j.N9.clean(),j.N9.show({color:"green",title:"Success!",message:"Successfully updated your service list!"})}});if((0,p.useEffect)(()=>{void 0!=e&&t(e)},[e]),r)return(0,i.jsx)("h1",{children:"LOADING"});let l=async e=>{t(e),await o.mutateAsync({selected:e[1].map(e=>Number(e.value))})};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(x.X,{withBorder:!0,p:10,radius:"md",children:[(0,i.jsx)(d.x,{sx:e=>({fontFamily:"Greycliff CF, ".concat(e.fontFamily||""),fontWeight:500,fontSize:24}),children:"Manage Services"}),(0,i.jsx)(d.x,{sx:e=>({fontFamily:"Greycliff CF, ".concat(e.fontFamily||""),fontSize:16}),children:"Select the services that are available on your booking page"}),(0,i.jsx)(u.i,{my:"sm",pb:5}),(0,i.jsx)(m.J,{value:n,onChange:l,searchPlaceholder:"Search services...",nothingFound:"No services",titles:["All Services","My Services"],listHeight:600,breakpoint:"sm",itemComponent:g,filter:(e,r)=>r.label.toLowerCase().includes(e.toLowerCase().trim())||r.description.toLowerCase().includes(e.toLowerCase().trim())})]})})},w=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t(),{children:[(0,i.jsx)("title",{children:"DetailPad - Services"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create-t3-app"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)("div",{children:(0,i.jsx)(l.r,{children:(0,i.jsx)(l.r.Col,{xl:12,lg:12,md:12,sm:12,xs:12,children:(0,i.jsx)(f,{})})})})]});w.getLayout=function(e){return(0,i.jsx)(o.Z,{children:e})};var k=!0,y=w}},function(e){e.O(0,[659,536,265,899,774,888,179],function(){return e(e.s=97133)}),_N_E=e.O()}]);